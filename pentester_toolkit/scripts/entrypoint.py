"""
Date: 8/4/21
Author: Emma Heffernan 
Description: Entrypoint python script which allows the user to select the tool to be used in the docker container
"""
import os
input_options=["Metasploit", "MsfVenom", "Wireshark", "Nmap", "Nikto", "John the Ripper", "Hydra", "Httpproxy", "Burp Suite", "Impacket", "Telnet (not on alpine)", "Reverse SSH", "Net Cat", "Ngrok", "Curl"]
cmd_options=["msf.sh", "msfvenom.sh", "wireshark.sh", "nmap.sh", "nikto.sh", "jtr.sh", "hydra.sh", "httpproxy.sh", "burpsuite.sh", "impacket.sh", "telnet.sh", "ssh.sh", "netcat.sh", "ngrok.sh", "curl.sh"]

def welcome_help():
    print ("""Hi, welcome to pentesters_toolkit
There are many tools installed here such as:""")
    cnt=1
    for single_option in input_options:
        print(format(cnt, "02"), " - ", single_option)
        cnt=cnt+1
        
    print("""
0 - [This will give you a cmd prompt to run your own command (bash)] 
-1 - EXIT

You may run one of these tools by typing it associaled number

    """)
    user_option = -2
    while not (user_option >= -1 and user_option <= len(input_options)) :
        print("Please enter a number or -1 to exit") 
        try:
            user_option = int(input("Selecting: "))
        except:
            print("[ERROR]: Must be a numeric value")

    return int(user_option)

def main():
    scripts_dir='/home/scripts/'
    sel_option = welcome_help()
    print("[DEBUG]: Option:", sel_option)
    if (sel_option == -1):
        print ("Exiting")
        exit()
    elif (sel_option == 0):
        print ("BASHING")
        os.system(scripts_dir + 'bash.sh')
        exit()
    else:
        print ("Starting tool:", input_options[sel_option-1])
        os.system(scripts_dir + cmd_options[sel_option-1])
        exit()

main()