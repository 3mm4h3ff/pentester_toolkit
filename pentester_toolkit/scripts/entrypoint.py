"""
Date: 8/4/21
Author: Emma Heffernan 
Description: Entrypoint python script which allows the user to select the tool to be used in the docker container
"""

import os
BBLACK = '\033[30;1m' # Black Text
TBLACK = '\033[30m' # Black Text
ENDC = '\033[m' # reset to the defaults


input_options=["Bash \t\tThis will give you a cmd prompt to run your own command", "Metasploit \tExploits", "MsfVenom \t\tExploits", "Wireshark \t\tNetwork Analyser", "Nmap \t\tNetwork Port Scanner", "Nikto \t\tCommandline Web Scanner", "John the Ripper \tPassword Cracking", "Burp Suite \tApplication Security Testing", "Impacket \t\tCollection of Python Exploits for Networks", "Reverse SSH \tExternal SSH Connection", "Ngrok \t\tRemote File System Access", "Curl \t\tData Transfer to or from a Server"]
cmd_options=["bash.sh", "msf.sh", "msfvenom.sh", "wireshark.sh", "nmap.sh", "nikto.sh", "jtr.sh", "burpsuite.sh", "impacket.sh", "ssh.sh", "ngrok.sh", "curl.sh"]

def welcome_help():
    print (BBLACK + "\nHi, Welcome to the Pentester Toolkit!" ,ENDC)
    print (TBLACK + "Author: Emma Heffernan (@3mm4h3ff) " , ENDC)
    print (TBLACK + "\nSelect one of the following tools or go your own using bash:\n" ,ENDC)
    cnt=1
    for single_option in input_options:
        TCOLOR = '\033[3' + str(cnt % 6 + 1) + 'm'
        print(TCOLOR + format(cnt, "02"), "-", single_option)
        cnt=cnt+1
        
    print(ENDC + "\n0 - EXIT \t\tExits the container!\n\nYou may run one of these tools by typing its associated number")
    user_option = -2
    while not (user_option >= -1 and user_option <= len(input_options)) :
        print("Please enter a number or 0 to exit") 
        try:
            user_option = int(input("Selecting: "))
        except:
            print("[ERROR]: Must be a numeric value")

    return int(user_option)

def main():
    scripts_dir='/home/scripts/'
    sel_option = welcome_help()
    if (sel_option == 0):
        print ("Exiting")
        exit()
    else:
        print ("Starting tool:", input_options[sel_option-1])
        os.system(scripts_dir + cmd_options[sel_option-1])
while(1):
    main()