#!/bin/bash
# Author: Emma Heffernan
# Description: 

NGROK_AUTH=""
NGROK_DIR=""
NGROK_PORT="80"

echo ""
echo "WARNING!! Please ensure you have specified -p 80:80 when you ran the container"
echo ""
echo "Sign up to NGROK at https://dashboard.ngrok.com/signup"
echo "NOTE: If no authtoken is entered, the session will expire in 2 hours"
read -e -p "Please enter your NGROK authtoken: " NGROK_AUTH

ngrok authtoken $NGROK_AUTH

read -e -p "Please enter the directory to share (Default: /): " NGROK_DIR
NGROK_DIR=${NGROK_DIR:-/}
wsgidav --host=0.0.0.0 --port=$NGROK_PORT --root=$NGROK_DIR --auth=anonymous &
sleep 10
ngrok http $NGROK_PORT