#!/bin/bash
# Author: Emma Heffernan
# Description: 

TOOL_EXIT=0
while [ $TOOL_EXIT == 0 ]; do 

    NIKTO_PORT=""
    NIKTO_IP=""
    NIKTO_OPT=""
    NIKTO_PROXY=""
    PROXY_PORT=""

    echo "NMAP Helper"
    echo "Please select 1 of the following options: "
    echo " 1. Scan a Host"
    echo " 2. Scan Specific Ports of Host"
    echo " 3. Web Host Scan via a Proxy"
    echo " 0. Exit Nikto Basics"

    read -e -p "Please enter an option: " USER_INPUT
    echo "You entered: $USER_INPUT" 
    
    if [[ $USER_INPUT == 0 ]]; then
        TOOL_EXIT=1
    elif [[ $USER_INPUT == 1 ]]; then
        read -e -p "Enter IP or Hostname: " NIKTO_IP
        NIKTO_PORT="80,443"
    elif [[ $USER_INPUT == 2 ]]; then
        read -e -p "Enter IP or Hostname: " NIKTO_IP
        read -e -p "Enter Port(s): " NIKTO_PORT
    elif [[ $USER_INPUT == 3 ]]; then
        read -e -p "Enter IP or Hostname: " NIKTO_IP
        read -e -p "Enter Port: " NIKTO_PORT
        read -e -p "Enter Proxy URL: " NIKTO_PROXY
        read -e -p "Enter Proxy Port: " PROXY_PORT
        NIKTO_OPT="-useproxy"
        wsgidav --host=127.0.0.1 --port=$PROXY_PORT --auth=anonymous -r / &
        sleep 10
    else
        echo "Incorrect option, please try again!"
    fi

    if [[ TOOL_EXIT != 0 ]]; then
        nikto.pl -h $NIKTO_IP -port $NIKTO_PORT $NIKTO_OPT $NIKTO_PROXY 
    fi
done
